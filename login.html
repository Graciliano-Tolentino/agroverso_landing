<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <!-- üåê Metadados essenciais -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  <!-- üß≠ SEO e Acessibilidade -->
  <title>Login ‚Ä¢ Agroverso</title>
  <meta name="description" content="Acesse com seguran√ßa o sistema Agroverso. Perfis dispon√≠veis: Administrador Geral, Gerente, L√≠der de Equipe e T√©cnico de Campo." />
  <meta name="keywords" content="login, agroverso, autentica√ß√£o, sistema, perfis de usu√°rio" />
  <meta name="author" content="Instituto Graciliana Maria da Concei√ß√£o" />
  <meta name="robots" content="noindex, nofollow" />

  <!-- üé® Estilo institucional -->
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="assets/favicon.ico" type="image/x-icon" />
</head>
<body class="login-body">

  <main class="login-container">
    <section class="login-box" role="form" aria-labelledby="login-titulo">
      <h1 id="login-titulo" class="login-title">Acesso Seguro ao Sistema Agroverso</h1>

      <form id="form-login" class="login-form" method="POST" novalidate aria-describedby="login-info">
        <p id="login-info" class="login-info">
          Fa√ßa login usando seu e-mail institucional, senha pessoal e selecione corretamente seu perfil de acesso.
        </p>

        <!-- Campo de e-mail -->
        <label for="email">E-mail institucional:</label>
        <input type="email" id="email" name="email" class="input-base" placeholder="seunome@agroverso.tec.br" required />

        <!-- Campo de senha -->
        <label for="senha">Senha:</label>
        <input type="password" id="senha" name="senha" class="input-base" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" minlength="6" required />

        <!-- Seletor de perfil -->
        <label for="perfil">Perfil de Acesso:</label>
        <select id="perfil" name="perfil" class="input-base" required>
          <option value="">Selecione seu perfil</option>
          <option value="administrador">Administrador Geral</option>
          <option value="gerente">Gerente</option>
          <option value="lider">L√≠der de Equipe</option>
          <option value="tecnico">T√©cnico de Campo</option>
        </select>

        <!-- Bot√£o de envio -->
        <button type="submit" class="btn-primary" aria-label="Entrar no sistema">Entrar</button>

        <!-- Mensagem de erro acess√≠vel -->
        <p class="login-error" id="erro-login" role="alert" hidden>
          E-mail, senha ou perfil inv√°lidos. Verifique os dados e tente novamente.
        </p>
      </form>
    </section>
  </main>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const form = document.getElementById("form-login");
      const email = document.getElementById("email");
      const senha = document.getElementById("senha");
      const perfil = document.getElementById("perfil");
      const erroLogin = document.getElementById("erro-login");

      form.addEventListener("submit", (e) => {
        // Reseta o erro anterior
        erroLogin.hidden = true;

        // Valida√ß√£o b√°sica local
        if (!email.value || !senha.value || !perfil.value) {
          erroLogin.textContent = "Todos os campos s√£o obrigat√≥rios.";
          erroLogin.hidden = false;
          e.preventDefault();
          return;
        }

        // Valida√ß√£o adicional
        if (senha.value.length < 6) {
          erroLogin.textContent = "A senha deve conter no m√≠nimo 6 caracteres.";
          erroLogin.hidden = false;
          e.preventDefault();
          return;
        }

        // (Opcional) l√≥gica de login futuro via backend:
        /*
        e.preventDefault();
        fetch('/api/login', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            email: email.value,
            senha: senha.value,
            perfil: perfil.value
          })
        })
        .then(res => res.json())
        .then(data => {
          if (data.success) {
            window.location.href = '/painel.html';
          } else {
            erroLogin.textContent = data.mensagem || "Credenciais inv√°lidas.";
            erroLogin.hidden = false;
          }
        });
        */
      });
    });
  </script>
